<IfModule mod_rewrite.c>
  RewriteEngine On
  RewriteBase /

  # Serve files directly if they exist
  RewriteCond %{REQUEST_FILENAME} -f [OR]
  RewriteCond %{REQUEST_FILENAME} -d
  RewriteRule ^ - [L]

  # Remove trailing slashes (except for root "/")
  RewriteCond %{REQUEST_URI} !=/
  RewriteRule ^(.+)/$ /$1 [R=301,L]

  # Rewrite "/en" to "/en/index.html"
  RewriteCond %{DOCUMENT_ROOT}/$1/index.html -f
  RewriteRule ^([a-z]{2})$ $1/index.html [L]

  # Rewrite clean URLs like "/en/about" to "/en/about.html"
  RewriteCond %{DOCUMENT_ROOT}/$1.html -f
  RewriteRule ^(.+)$ $1.html [L]
</IfModule>
